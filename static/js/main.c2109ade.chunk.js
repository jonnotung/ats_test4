(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,n){e.exports=n(253)},146:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(58),l=n.n(o),u=(n(146),n(18)),i=n(128),c=n.n(i),s=n(139),d={removeEmptyEntries:function(e){var t=e.data,n=[];for(var r in t)t[r].Id&&n.push(t[r]);return n},isolateCountries:function(e){var t={};for(var n in e){var r=e[n].Country;t[r]=r in t?t[r]+1:1}return t},getCountryNames:function(e){var t=[];for(var n in e)"undefined"===n||t.includes(n)||t.push(n);return t},toArray:function(e){var t=[];for(var n in e){var r={name:n,count:e[n]};t.push(r)}return t},getDistribution:function(e){var t={};for(var n in e){var r=e[n];t[r]=r in t?t[r]+1:1}return t},getTen:function(e){var t=Object(s.a)(e).sort(function(e,t){return t.count-e.count});return[t.slice(0,10),t.slice(t.length-10,t.length)]},countGender:function(e,t){var n=[{gender:"Female",count:0},{gender:"Male",count:0}],r=0,a=!0,o=!1,l=void 0;try{for(var u,i=e[Symbol.iterator]();!(a=(u=i.next()).done);a=!0){var c=u.value;!c.Id||"all countries"!==t&&c.Country!==t||(r++,"Female"===c.Gender?n[0].count=n[0].count+1:n[1].count=n[1].count+1)}}catch(s){o=!0,l=s}finally{try{a||null==i.return||i.return()}finally{if(o)throw l}}return n[0].count=n[0].count/r,n[1].count=n[1].count/r,n.push(r),n},isolateCarMake:function(e,t){var n={},r=!0,a=!1,o=void 0;try{for(var l,u=e[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var i=l.value;if(i.Id&&("all countries"===t||i.Country===t)){var c=i["Car Make"];n[c]=c in n?n[c]+1:1}}}catch(s){a=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return d.toArray(n).sort(function(e,t){return t.count-e.count}).slice(0,10)}},m=d,p={getFile:function(e){return{type:"LOAD_FILE",payload:m.removeEmptyEntries(e)}},getCountryNames:function(e){var t=m.isolateCountries(e);return{type:"COUNTRY_NAMES",payload:m.getCountryNames(t)}},selectCountry:function(e){return{type:"SELECT_COUNTRY",payload:e}},countCountries:function(e){var t=m.isolateCountries(e);return{type:"COUNT_COUNTRIES",payload:m.toArray(t)}},countCarMakes:function(e,t){var n=e;return e.data&&(n=e.data),{type:"CAR_MAKES",payload:m.isolateCarMake(n,t)}},getCountryDist:function(e){var t=m.isolateCountries(e),n=m.getDistribution(t);return{type:"COUNTRY_DIST",payload:m.toArray(n)}},genderBreakdown:function(e,t){var n=e;return e.data&&(n=e.data),{type:"GENDER",payload:m.countGender(n,t)}}},y=p,f=Object(u.b)(null,{getFile:y.getFile,countCountries:y.countCountries,countryNames:y.getCountryNames,countryDist:y.getCountryDist,countryGender:y.genderBreakdown,countCarMakes:y.countCarMakes})(function(e){var t,n=function(n){var r=t.result,a=c.a.parse(r,{header:!0});e.getFile(a),e.countryGender(a,"all countries")};return a.a.createElement("div",{className:"fileInputWrap"},a.a.createElement("label",{htmlFor:"file",className:"loadLabel"},"Load .csv file"),a.a.createElement("input",{type:"file",id:"file",className:"fileInput visuallyHidden",accept:".csv",onChange:function(e){return r=e.target.files[0],(t=new FileReader).onloadend=n,void t.readAsText(r);var r}}))}),v=Object(u.b)(function(e){return{countryNames:e.countryNames,file:e.file,selectedCountry:e.selectCountry}},{selectCountry:y.selectCountry,genderBreakdown:y.genderBreakdown,countCarMakes:y.countCarMakes})(function(e){return e.file?a.a.createElement(r.Fragment,null,a.a.createElement("select",{onChange:function(t){return function(t){e.selectCountry(t),e.genderBreakdown(e.file,t),e.countCarMakes(e.file,t)}(t.target.value)}},a.a.createElement("option",{value:"all countries"},"All countries"),e.countryNames.map(function(e,t){return a.a.createElement("option",{key:t,value:e},e)}))):""}),h=n(59),g=n(60),E=n(67),C=n(61),b=n(68),N=n(259),k=n(261),O=n(262),w=n(257),M=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.getCountCountries(this.props.file),this.props.getCountryNames(this.props.file),this.props.getDist(this.props.file)}},{key:"render",value:function(){return a.a.createElement("div",{className:"distribution"},a.a.createElement("h2",null,"Distribution of people from all countries present"),a.a.createElement("h3",null,"Total people in file: ",this.props.file.length),a.a.createElement("h3",null,"Number of countries: ",this.props.countryNames.length),a.a.createElement(N.a,{height:500,domainPadding:15,theme:k.a.material},a.a.createElement(O.a,{label:"Number of people",style:{axisLabel:{padding:30}}}),a.a.createElement(O.a,{dependentAxis:!0,label:"Number of countries",style:{axisLabel:{padding:30}}}),a.a.createElement(w.a,{horizontal:!0,data:this.props.countryDist,x:"name",y:"count"})))}}]),t}(r.Component),D=Object(u.b)(function(e){return{countryDist:e.countryDist,countryNames:e.countryNames,file:e.file}},{getDist:y.getCountryDist,getCountryNames:y.getCountryNames,getCountCountries:y.countCountries})(M),j=Object(u.b)(function(e){return{countryGender:e.countryGender,selectedCountry:e.selectCountry}})(function(e){return a.a.createElement(r.Fragment,null,e.countryGender[0]||e.countryGender[1]?a.a.createElement(r.Fragment,null,a.a.createElement("h2",null,"People from ",e.selectedCountry," in dataset: "),a.a.createElement("h3",{className:"totalPeople"},"Total people: ",e.countryGender[2]),a.a.createElement("div",{className:"genderRow"},a.a.createElement("h3",null,e.countryGender[0].gender," :"),a.a.createElement("h3",null,(100*e.countryGender[0].count).toFixed(2)," %")),a.a.createElement("div",{className:"genderRow"},a.a.createElement("h3",null,e.countryGender[1].gender," :"),a.a.createElement("h3",null,(100*e.countryGender[1].count).toFixed(2)," %"))):"")}),T=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.countCarMakes(this.props.file,this.props.selectedCountry)}},{key:"render",value:function(){return 0!==this.props.carMake.length?a.a.createElement(r.Fragment,null,a.a.createElement("h2",null,"Top 10 car brands for ",this.props.selectedCountry),a.a.createElement(N.a,{width:950,theme:k.a.material,domainPadding:60},a.a.createElement(O.a,{label:"",style:{axisLabel:{padding:30}}}),a.a.createElement(O.a,{dependentAxis:!0,label:"Number of owners",style:{axisLabel:{padding:30}}}),a.a.createElement(w.a,{padding:60,data:this.props.carMake,x:"name",y:"count"}))):""}}]),t}(r.Component),A=Object(u.b)(function(e){return{carMake:e.carMakes,selectedCountry:e.selectCountry,file:e.file}},{countCarMakes:y.countCarMakes})(T),G=(n(252),Object(u.b)(function(e){return{countryDist:e.countryDist,file:e.file}})(function(e){return a.a.createElement("div",{className:"App"},a.a.createElement("header",null,a.a.createElement("div",{className:"outerWrapper"},a.a.createElement("div",{className:"innerWrapper"},a.a.createElement("h1",null,"Upload a comma separated .csv file from the csv folder"),a.a.createElement(f,null)))),e.file.length>0?a.a.createElement("section",{className:"distOuter"},a.a.createElement("div",{className:"outerWrapper"},a.a.createElement("div",{className:"innerWrapper"},a.a.createElement(D,null)))):"",a.a.createElement("section",{className:"breakdownOuter"},a.a.createElement("div",{className:"outerWrapper"},a.a.createElement("div",{className:"innerWrapper"},e.file.length>0?a.a.createElement("div",{className:"breakdown"},a.a.createElement(v,null),a.a.createElement(j,null),a.a.createElement(A,null)):""))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=n(37),R=Object(F.b)({file:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"LOAD_FILE"===t.type?t.payload:e},countCountries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"COUNT_COUNTRIES"===t.type?t.payload:e},countryNames:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"COUNTRY_NAMES"===t.type?t.payload:e},selectCountry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all countries",t=arguments.length>1?arguments[1]:void 0;return"SELECT_COUNTRY"===t.type?t.payload:e},countryDist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"COUNTRY_DIST"===t.type?t.payload:e},countryGender:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"GENDER"===t.type?t.payload:e},carMakes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"CAR_MAKES"===t.type?t.payload:e}});l.a.render(a.a.createElement(u.a,{store:Object(F.c)(R)},a.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[141,1,2]]]);
//# sourceMappingURL=main.c2109ade.chunk.js.map